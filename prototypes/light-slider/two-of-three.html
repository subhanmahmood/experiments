<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Smart Lights: Pick Two (Looks, Functionality, Price)</title>
    <style>
      :root {
        --bg: #0f1220;
        --panel: #171a2b;
        --text: #e6e9f5;
        --muted: #a9b0c6;
        --accent: #7aa2ff;
        --accent-2: #ffb86b;
        --danger: #ff6b6b;
        --ok: #4ade80;
      }

      html, body {
        height: 100%;
      }

      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto,
          Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji;
        background: radial-gradient(1200px 800px at 20% -10%, #1c2140, #0b0e19), var(--bg);
        color: var(--text);
        line-height: 1.45;
        -webkit-font-smoothing: antialiased;
      }

      .wrap {
        max-width: 740px;
        margin: 48px auto 80px;
        padding: 24px;
      }

      .card {
        background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        box-shadow: 0 10px 40px rgba(0,0,0,0.35);
        padding: 28px;
      }

      h1 {
        margin: 0 0 8px;
        font-size: 28px;
        letter-spacing: 0.2px;
      }

      .sub {
        color: var(--muted);
        margin-bottom: 22px;
      }

      .row {
        display: grid;
        grid-template-columns: 160px 1fr 64px;
        gap: 16px;
        align-items: center;
        padding: 12px 0;
      }

      .row + .row { border-top: 1px dashed rgba(255,255,255,0.08); }

      label {
        color: var(--muted);
      }

      .value {
        text-align: right;
        font-variant-numeric: tabular-nums;
        min-width: 52px;
      }

      input[type="range"] {
        -webkit-appearance: none;
        appearance: none;
        width: 100%;
        height: 10px;
        background: linear-gradient(90deg, var(--accent), var(--accent-2));
        border-radius: 999px;
        outline: none;
        opacity: 0.95;
      }

      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 22px;
        height: 22px;
        border-radius: 50%;
        background: #fff;
        box-shadow: 0 2px 8px rgba(0,0,0,0.35);
        cursor: pointer;
        border: 2px solid #dfe6ff;
      }
      input[type="range"]::-moz-range-thumb {
        width: 22px;
        height: 22px;
        border-radius: 50%;
        background: #fff;
        border: 2px solid #dfe6ff;
        box-shadow: 0 2px 8px rgba(0,0,0,0.35);
        cursor: pointer;
      }

      .meta {
        display: flex;
        gap: 14px;
        flex-wrap: wrap;
        align-items: center;
        margin-top: 16px;
        color: var(--muted);
      }

      .chip {
        padding: 6px 10px;
        border-radius: 999px;
        background: rgba(255,255,255,0.06);
        border: 1px solid rgba(255,255,255,0.12);
        color: var(--text);
        font-size: 12px;
      }

      .total {
        margin-left: auto;
        color: var(--text);
        font-weight: 600;
      }

      .notes {
        margin-top: 18px;
        color: var(--muted);
        font-size: 14px;
      }

      .outcome {
        margin-top: 22px;
        padding: 14px 16px;
        background: rgba(255,255,255,0.05);
        border: 1px solid rgba(255,255,255,0.10);
        border-radius: 10px;
      }

      .actions {
        display: flex;
        gap: 10px;
        margin-top: 16px;
        flex-wrap: wrap;
      }

      button {
        background: rgba(255,255,255,0.06);
        color: var(--text);
        border: 1px solid rgba(255,255,255,0.14);
        padding: 8px 12px;
        border-radius: 8px;
        cursor: pointer;
      }
      button:hover { border-color: rgba(255,255,255,0.26); }
      button:active { transform: translateY(1px); }

      .foot {
        text-align: center;
        margin-top: 20px;
        color: var(--muted);
        font-size: 13px;
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="card">
        <h1>Smart Lights: Pick Two</h1>
        <div class="sub">Looks, Functionality, and Price — you can only push two high at once.</div>

        <div class="row">
          <label for="looks">Looks</label>
          <input id="looks" type="range" min="0" max="100" value="70" step="1" />
          <div class="value" id="looksVal">70</div>
        </div>

        <div class="row">
          <label for="functionality">Functionality</label>
          <input id="functionality" type="range" min="0" max="100" value="70" step="1" />
          <div class="value" id="functionalityVal">70</div>
        </div>

        <div class="row">
          <label for="price">Affordability (Price)</label>
          <input id="price" type="range" min="0" max="100" value="60" step="1" />
          <div class="value" id="priceVal">60</div>
        </div>

        <div class="meta">
          <div class="chip">Fixed tradeoff budget: 200 points</div>
          <div class="chip">Higher “Affordability” = cheaper</div>
          <div class="total" id="total">Total: 200</div>
        </div>

        <div class="outcome" id="outcome"></div>

        <div class="actions">
          <button data-preset="lf">Favor Looks + Functionality</button>
          <button data-preset="lp">Favor Looks + Affordability</button>
          <button data-preset="fp">Favor Functionality + Affordability</button>
          <button data-preset="balance">Balanced</button>
          <button data-preset="reset">Reset</button>
        </div>

        <div class="notes">
          Move any slider. If the total goes over the fixed budget, the others automatically decrease so only two can be high. Treat “Affordability (Price)” as how budget‑friendly it is: higher means cheaper; lower means pricey.
        </div>
      </div>

      <div class="foot">Single-file demo. Open directly in your browser.</div>
    </div>

    <script>
      (function () {
        const TARGET = 200; // total budget across three attributes
        const sliders = {
          looks: document.getElementById('looks'),
          functionality: document.getElementById('functionality'),
          price: document.getElementById('price'), // affordability proxy
        };
        const values = {
          looks: document.getElementById('looksVal'),
          functionality: document.getElementById('functionalityVal'),
          price: document.getElementById('priceVal'),
        };
        const totalEl = document.getElementById('total');
        const outcomeEl = document.getElementById('outcome');

        let updating = false; // guard to avoid feedback loops

        const ids = ['looks', 'functionality', 'price'];

        function clamp(n, min, max) {
          return Math.max(min, Math.min(max, n));
        }

        function getState() {
          return {
            looks: Number(sliders.looks.value),
            functionality: Number(sliders.functionality.value),
            price: Number(sliders.price.value),
          };
        }

        function setState(newState) {
          updating = true;
          for (const k of ids) {
            const v = clamp(Math.round(newState[k]), 0, 100);
            sliders[k].value = v;
            values[k].textContent = String(v);
          }
          updating = false;
          renderMeta();
        }

        function renderMeta() {
          const s = getState();
          const sum = s.looks + s.functionality + s.price;
          totalEl.textContent = `Total: ${sum}`;

          // Simple interpretation line
          const high = (x) => x >= 70;
          const low = (x) => x <= 30;
          let msg = '';
          if (high(s.looks) && high(s.functionality) && s.price < 70) {
            msg = 'Stylish and capable — but you pay for it.';
          } else if (high(s.looks) && high(s.price) && s.functionality < 70) {
            msg = 'Beautiful and affordable — features are trimmed.';
          } else if (high(s.functionality) && high(s.price) && s.looks < 70) {
            msg = 'Feature-rich and affordable — looks take a back seat.';
          } else if (low(s.looks) && low(s.functionality)) {
            msg = 'Budget-first: basic looks and features.';
          } else if (low(s.price)) {
            msg = 'Premium pricing tradeoff at play.';
          } else {
            msg = 'Adjust the sliders to explore tradeoffs.';
          }
          outcomeEl.textContent = msg;
        }

        function adjustFor(activeId) {
          if (updating) return;
          updating = true;

          const a = activeId;
          const others = ids.filter((x) => x !== a);
          const state = getState();
          const total = state.looks + state.functionality + state.price;

          if (total <= TARGET) {
            // Nothing to do, just reflect values
            updating = false;
            renderMeta();
            return;
          }

          // We need to reduce the other two to keep within TARGET.
          let excess = total - TARGET;

          // Prefer reducing the higher of the other two first so "one comes down".
          others.sort((x, y) => state[y] - state[x]);

          for (const id of others) {
            if (excess <= 0) break;
            const take = Math.min(state[id], excess);
            state[id] -= take;
            excess -= take;
          }

          // Clamp and set
          for (const k of ids) {
            state[k] = clamp(state[k], 0, 100);
            sliders[k].value = String(Math.round(state[k]));
            values[k].textContent = String(Math.round(state[k]));
          }

          updating = false;
          renderMeta();
        }

        // Wire events
        for (const id of ids) {
          sliders[id].addEventListener('input', () => adjustFor(id));
        }

        // Preset buttons
        document.querySelectorAll('button[data-preset]').forEach((btn) => {
          btn.addEventListener('click', () => {
            const key = btn.getAttribute('data-preset');
            if (key === 'lf') setState({ looks: 95, functionality: 95, price: 10 });
            else if (key === 'lp') setState({ looks: 95, functionality: 20, price: 85 });
            else if (key === 'fp') setState({ looks: 20, functionality: 95, price: 85 });
            else if (key === 'balance') setState({ looks: 67, functionality: 67, price: 66 });
            else if (key === 'reset') setState({ looks: 70, functionality: 70, price: 60 });
          });
        });

        // Initial paint
        renderMeta();
      })();
    </script>
  </body>
  </html>

